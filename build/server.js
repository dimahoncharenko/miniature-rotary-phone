(()=>{"use strict";var e={189:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(619),o=new r.Schema({title:{type:String,require:!0},size:{type:Number},pages:[{heading:{type:String},content:{type:String},page:{type:Number}}]}),i=r.model("Article",o);t.default=i},937:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(127),u=o(n(189));let a=i.Router();a.get("/:id/:page",((e,t)=>r(void 0,void 0,void 0,(function*(){const n=e.params.id,r=+e.params.page,o=yield u.default.findById(n);null!=o&&t.render("article",{article:{id:n,page:r,size:o.size,heading:o.pages[r-1].heading,content:o.pages[r-1].content}})})))),t.default=a},975:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(127)),u=o(n(274)),a=o(n(479)),c=o(n(937)),s=n(37),l=o(n(189));s.connect();let d=i.default();d.set("PORT",process.env.PORT||80),d.set("view engine","handlebars"),d.engine("handlebars",u.default({defaultLayout:"main.handlebars",helpers:{nextArticle:function(e,t,n){return++t>n&&(t=1),`/articles/${e}/${t}`},prevArticle:function(e,t,n){return--t<1&&(t=n),`/articles/${e}/${t}`}}})),d.use(a.default()),d.use(i.default.static("public")),d.get("/",((e,t)=>r(void 0,void 0,void 0,(function*(){yield l.default.find({}),t.render("home")})))),d.use("/articles",c.default),d.listen(d.get("PORT"),(()=>console.log(`Server ready at port: ${d.get("PORT")}`)))},37:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;const i=o(n(619));t.connect=()=>r(void 0,void 0,void 0,(function*(){try{yield i.default.connect("mongodb+srv://dima:raptor315@cluster0.3tt9x.mongodb.net/Articles?retryWrites=true&w=majority",{useNewUrlParser:!0,useUnifiedTopology:!0,useFindAndModify:!1}),console.log("Connected To DB!")}catch(e){console.error(e),process.exit(1)}}))},479:e=>{e.exports=require("cors")},127:e=>{e.exports=require("express")},274:e=>{e.exports=require("express-handlebars")},619:e=>{e.exports=require("mongoose")}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(975)})();